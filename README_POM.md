# API –¢–µ—Å—Ç—ã - POM Architecture

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **Page Object Model (POM)** –∏ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –∞–≤—Ç–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API:

```
‚îú‚îÄ‚îÄ api_client.py      # –°–ª–æ–π API –∫–ª–∏–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ api_models.py      # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ api_services.py    # –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π
‚îú‚îÄ‚îÄ test_incidents.py  # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ run_tests.py       # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ simple_login.py    # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îî‚îÄ‚îÄ .env               # –¢–æ–∫–µ–Ω
```

## üîß –°–ª–æ–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. API Client (`api_client.py`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- **–ü—Ä–∏–Ω—Ü–∏–ø—ã**: –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è HTTP –ª–æ–≥–∏–∫–∏
- **–ú–µ—Ç–æ–¥—ã**: `get_incidents_list()`, `create_incident()`, etc.

### 2. Models (`api_models.py`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- **–ü—Ä–∏–Ω—Ü–∏–ø—ã**: –¢–∏–ø–∏–∑–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è
- **–ö–ª–∞—Å—Å—ã**: `Incident`, `IncidentListResponse`, `APIResponse`

### 3. Services (`api_services.py`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–∏–Ω—Ü–∏–ø—ã**: –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **–ú–µ—Ç–æ–¥—ã**: `get_all_incidents()`, `create_incident()`, etc.

### 4. Tests (`test_incidents.py`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **–ü—Ä–∏–Ω—Ü–∏–ø—ã**: AAA (Arrange-Act-Assert), –∏–∑–æ–ª—è—Ü–∏—è
- **–ö–ª–∞—Å—Å—ã**: `TestIncidentAPI`, `TestIncidentAPIEdgeCases`

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```bash
python3 simple_login.py
```

### 2. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
python3 run_tests.py
```

### 3. –ó–∞–ø—É—Å–∫ —Å –æ—Ç—á–µ—Ç–æ–º
```bash
python3 -m pytest test_incidents.py --html=report.html
```

## üìã –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –ø–æ ID
- ‚úÖ –ü–æ–∏—Å–∫ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞
- ‚úÖ –ü–æ–ª–Ω—ã–π workflow

### –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
- ‚úÖ –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç
- ‚úÖ –ü—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã POM

### 1. –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è
- –ö–∞–∂–¥—ã–π —Å–ª–æ–π —Å–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- API Client —Å–∫—Ä—ã–≤–∞–µ—Ç HTTP –¥–µ—Ç–∞–ª–∏
- Services —Å–∫—Ä—ã–≤–∞—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É

### 2. –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è
- –¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
- –ù–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç HTTP –¥–µ—Ç–∞–ª–µ–π
- –õ–µ–≥–∫–æ —á–∏—Ç–∞—é—Ç—Å—è –∏ –ø–æ–Ω–∏–º–∞—é—Ç—Å—è

### 3. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- API Client –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö
- Models –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–µ–∑–¥–µ
- Services –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—Ç –æ–±—â—É—é –ª–æ–≥–∏–∫—É

### 4. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ Client
- –¢–µ—Å—Ç—ã –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã

## üîç –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. AAA Pattern
```python
def test_create_incident(self):
    # Arrange
    name = "–¢–µ—Å—Ç"
    description = "–û–ø–∏—Å–∞–Ω–∏–µ"
    
    # Act
    result = self.service.create_incident(name, description)
    
    # Assert
    assert result.name == name
```

### 2. –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
- –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –û—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### 4. –¢–∏–ø–∏–∑–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ type hints
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ß–µ—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

## üìä –û—Ç—á–µ—Ç—ã

–¢–µ—Å—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç HTML –æ—Ç—á–µ—Ç—ã —Å:
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –î–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ—à–∏–±–∫–∞—Ö
- –í—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ü–æ–∫—Ä—ã—Ç–∏–µ–º —Ç–µ—Å—Ç–∞–º–∏

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∫–æ–¥–µ:
- URL API: `http://91.227.17.139/services/react/api`
- –ü—Ä–æ–µ–∫—Ç: `98_spb`
- –°–µ—Ä–≤–∏—Å: `eputs`
- –¢–æ–∫–µ–Ω: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ `.env`

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from api_services import IncidentService

service = IncidentService()

# –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫
incidents = service.get_all_incidents(page=1, limit=10)

# –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ü–∏–¥–µ–Ω—Ç
new_incident = service.create_incident("–ù–∞–∑–≤–∞–Ω–∏–µ", "–û–ø–∏—Å–∞–Ω–∏–µ")

# –û–±–Ω–æ–≤–∏—Ç—å
updated = service.update_incident(1, description="–ù–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ")

# –£–¥–∞–ª–∏—Ç—å
service.delete_incident(1)
```
